<!DOCTYPE html>
<html>
<head>
	<title>Planet Robot</title>
	<link href='http://fonts.googleapis.com/css?family=Fascinate|Titan+One' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="http://pchen.github.com/LLC-JavaScript/exercises/shopping-cart.css">
	
	<script type="text/javascript">
		/**
		Calculates totals for selected shoes & cupcake items
		**/
		function itemTotal() {
			//start the total at 0
			var totalOfItems = 0;
			//finds the number of products via the name attribute "product"
	  		var numberOfItems = document.shoppingForm.elements["product"].length;
	
			//using var numberOfItems to loop through each product listing
	  		for (i=0; i < numberOfItems; i++) {
				//assigning the value of the product id
				var productId = 'product'+i;
				//getting the id of the selected item
	    		var selectedItem = document.getElementById(productId);
				//check if checkbox has been selected
	    		if (selectedItem.checked == true) { 
					//if true, the cost of the selected item is added to var sumOfItems
					//selectedItem.value gets the cost of the item from the value attribute
					totalOfItems = totalOfItems + Number(selectedItem.value);					
				}
	  		}
			return totalOfItems;
		}
		
		
		/** 
		Calculates shipping cost
		**/
		var shipping = new Array();
		shipping["ontario"]=5;
		shipping["canada"]=10;
		shipping["international"]=25;

		function getShippingCost(){  
		    var shippingCost = 0;
		    //var theForm = document.forms["shoppingForm"];
		    var selectedShipping = document.shoppingForm.elements["selectedShipping"];
		    for(var i = 0; i < selectedShipping.length; i++){
		        //checks if radio button
		        if(selectedShipping[i].checked){
		            shippingCost = shipping[selectedShipping[i].value];
		            break;
		        }
		    }
		    return shippingCost;
			console.log(shippingCost);
		}
		
		
		/** 
		Calculates total of selected items and shipping
		**/
		function calculateTotal(){
		    var finalTotal = itemTotal() + getShippingCost();
		    //display the result with 2 decimal points
			document.getElementById('totalPrice').value = ("$" + finalTotal.toFixed(2));
		}
		
		
		/** 
		Form validation
		**/		
		//check if the contact info is empty
		function isEmpty(aTextField) {
		   	if ((aTextField.value.length==0) || (aTextField.value==null)) {
		      	return true;
		   	} else { 
				return false; 
			}
		}
		
		function validateForm(){
			//var theForm = document.forms["shoppingForm"];
		   	if(isEmpty(document.shoppingForm.name)) { 
		      	alert('Please enter your name.'); 
		   	} else if(isEmpty(document.shoppingForm.address)) {
				alert('Please enter your address.'); 
			} else if(isEmpty(document.shoppingForm.email)) {
				alert('Please enter your email.'); 
			} else {
				alert('Your order has been submitted. Thank you!');
			}
		}
	</script>
</head>

<body>
	<div id="container">
		<header>
			<h1>Planet Robots</h1>
		</header>
		<form action="" id="shoppingForm" name="shoppingForm" onsubmit="return false;">
			<div id="productListings">
				<fieldset>
					<div class="item">
						<ul>
							<li><img src="assets/earbuds.jpg" width="195" height="195" /></li>
							<li>Transformers Ear buds</li>
							<li>$17.99
								<button onclick="addItem();">Add</button>
								<button onclick="removeItem();">Remove</button>
							</li>
							<li>Quantity <input type="text" id="updateQuantity" value="0" readonly="readonly" class="readonly" /></li>
						</ul>
					</div>				
					<div class="item">
						<ul>
							<li><img src="assets/gold-usb.jpg" width="195" height="195" /></li>
							<li>Gold Robot USB</li>
							<li>$25.00
								<button onclick="addItem();">Add</button>
								<button onclick="removeItem();">Remove</button>
							</li>
							<li>Quantity <input type="text" id="updateQuantity" value="0" readonly="readonly" class="readonly" /></li>
						</ul>					
					</div>
					<div class="item">
						<ul>
							<li><img src="assets/nesting-dolls.jpg" width="195" height="195" /></li>
							<li>Robots &amp; Ninjas Nesting Dolls</li>
							<li>$13.99
								<button onclick="addItem();">Add</button>
								<button onclick="removeItem();">Remove</button>
							</li>
							<li>Quantity <input type="text" id="updateQuantity" value="0" readonly="readonly" class="readonly" /></li>
						</ul>
					</div>
					<div class="item">
						<ul>
							<li><img src="assets/plush-android.jpg" width="195" height="195" /></li>
							<li>Plush Android</li>
							<li>$9.99
								<button onclick="addItem();">Add</button>
								<button onclick="removeItem();">Remove</button>
							</li>
							<li>Quantity <input type="text" id="updateQuantity" value="0" readonly="readonly" class="readonly" /></li>
						</ul>
					</div>
					<div class="item">
						<ul>
							<li><img src="assets/salt-pepper-shakers.jpg" width="195" height="195" /></li>
							<li>Salt &amp; Pepper Shakers</li>
							<li>$24.99
								<button onclick="addItem();">Add</button>
								<button onclick="removeItem();">Remove</button>
							</li>
							<li>Quantity <input type="text" id="updateQuantity" value="0" readonly="readonly" class="readonly" /></li>
						</ul>			
					</div>
					<div class="item">
						<ul>
							<li><img src="assets/stencil-kit.jpg" width="195" height="195" /></li>
							<li>Stencil &amp; Pen Kit</li>
							<li>$8.99
								<button onclick="addItem();">Add</button>
								<button onclick="removeItem();">Remove</button>
							</li>
							<li>Quantity <input type="text" id="updateQuantity" value="0" readonly="readonly" class="readonly" /></li>
						</ul>
					</div>
					<div class="item">	
						<ul>
							<li><img src="assets/t-shirt.jpg" width="195" height="195" /></li>
							<li>T-shirt</li>
							<li>$24.99
								<button onclick="addItem();">Add</button>
								<button onclick="removeItem();">Remove</button>
							</li>
							<li>Quantity <input type="text" id="updateQuantity" value="0" readonly="readonly" class="readonly" /></li>
						</ul>
					</div>
					<div class="item">
						<ul>
							<li><img src="assets/tea-infuser.jpg" width="195" height="195" /></li>
							<li>Tea Infuser</li>
							<li>$10.00
								<button onclick="addItem();">Add</button>
								<button onclick="removeItem();">Remove</button>
							</li>
							<li>Quantity <input type="text" id="updateQuantity" value="0" readonly="readonly" class="readonly" /></li>
						</ul>	
					</div>
					<div class="item">
						<ul>
							<li><img src="assets/wrapping-paper.jpg" width="195" height="195" /></li>
							<li>Wrapping paper</li>
							<li>$5.99
								<button onclick="addItem();">Add</button>
								<button onclick="removeItem();">Remove</button>
							</li>
							<li>Quantity <input type="text" id="updateQuantity" value="0" readonly="readonly" class="readonly" /></li>
						</ul>	
					</div>
				</fieldset>
			</div>		
		
		
			<div id="additionalInfo">
				<div id="finalTotal">
					<h3>Your shopping cart</h3>
					<label for="totalPrice">Total</label>
					<input type="text" id="totalPrice" readonly="readonly" class="readonly" value="">
				</div>
			</div>

			<div id="additionalInfo">
				<fieldset id="shippingInfo">
		            <h3>Shipping Info</h3>
		            <label for="name">Name</label>
		            <input id="name" type="text" name="name" />
		            <br/>
		            <label for="address">Address</label>
		            <input id="address" type="text" name="address" />
		            <br/>
		            <label for="city">City</label>
		            <input id="city" type="text" name="city"/>
		            <br/>
					<label for="postalCode">Postal Code</label>
		            <input id="postalCode" type="text" name="postalCode"/>
		        </fieldset>

				<button type="button" onclick="validateForm()">Check out now!</button>
			</div>
		</form>
	</div><!-- close #container -->
</body>
</html>